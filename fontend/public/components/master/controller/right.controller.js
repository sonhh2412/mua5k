'use strict'; var master = angular.module('shopnxApp') .controller('rightController', ['$scope' , '$window' , 'Cart', '$rootScope' , '$location' ,'Auth', '$mdDialog' , function($scope, $window, Cart, $rootScope, $location, Auth, $mdDialog) {$rootScope.sizeCart = _.size(Cart.idArray); $scope.gotoCheckout = function(k_number, total_card){$scope.checkount_link = k_number < total_card ? "/dang-ky-mua-k.html" : "/xac-nhan-thanh-toan-don-hang.html"; } ; Auth.isLoggedInAsync(function(cb){$rootScope.isLoggedIn = cb; if(!cb){$scope.loginCart = function(ev) {$mdDialog.show({templateUrl: '/app/cart/views/login.tpl.html', parent: angular.element(document.body), targetEvent: ev, clickOutsideToClose: true, fullscreen: true }) } } }); var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } $scope.mouseover = function(){angular.element(document.querySelector(".right-cart")).show(); $scope.hover = true; }; $scope.mouseleave = function(){angular.element(document.querySelector(".right-cart")).hide(); }; $scope.goToTop = function(){$window.scrollTo(0, 0); }; $scope.cart = Cart; $scope.changeQty = function(item, amount){if(typeof item.quantity === 'undefined'){item.quantity = amount; } if(item.quantity != null && typeof item.quantity !== 'undefined'){Cart.changeQtyItem(item.quantity, item); } };  $scope.removeItem = function(item){Cart.removeItem(item); $rootScope.sizeCart = _.size(Cart.idArray); }  ; $scope.gotoCart = function(){$location.path('/gio-hang.html'); } }])