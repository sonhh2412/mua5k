'use strict'; angular.module('shopnxApp') .directive('stateOrder', function ($loading , $timeout , Order) {return {restrict: 'E', scope: {id : '=', collection: '='}, link: function (scope, element, attribute) {scope.$watch('id',function(item) {if(item){Order.getStatebyId.query({id: item }). $promise.then(function(result){if(result){scope.collection = result[0]; } }); } }); } }; })