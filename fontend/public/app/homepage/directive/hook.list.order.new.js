'use strict';angular.module('shopnxApp').directive('hookListOrderNew',function($loading,Category,socket,$rootScope,Hook,$interval){return{link:function(scope,element,attribute){Hook.getList.query().$promise.then(function(results){scope.hook_list_order=results;scope.first=true;$rootScope.isHomePage=true;if($rootScope.isHomePage){$interval(function(){Hook.getList.query().$promise.then(function(results){if(scope.first){if(!_.isEqual(_.map(results,function(value){return value._id}),_.map(scope.hook_list_order,function(value){return value._id}))){var orderList=angular.element(document.querySelector(".order-order-list"));scope.first=false;scope.hook_list_order=results;orderList.css({'margin-top':'-77px'});var marginTmp=-77;var timeOut=$interval(function(){marginTmp=marginTmp+7;orderList.css({'margin-top':marginTmp});marginTmp>=0&&($interval.cancel(timeOut),scope.first=true)},10)}}})},25000)}}).catch(function(err){scope.hook_list_order=[]})},restrict:'E',scope:true,templateUrl:'app/homepage/views/tpl.hook.list.order.new.html'}});