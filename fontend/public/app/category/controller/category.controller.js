'use strict'; angular.module('shopnxApp') .controller('CategoryWattingCtrl', function($scope, Product, $loading, $timeout, $rootScope, $location) {$rootScope.childLink = ''; $rootScope.isHomePage = false; $rootScope.isPageProduct = false; $scope.parent = 0; $rootScope.url = '/api/products/get-product-category/' + $scope.parent; $scope.hadChild = false; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, productapps : true, aheadapps : false, cartapps : false, profileapps : false, }; $rootScope.parmasCateg = {watting_result : true, product_hot : false, not_enough : false, new_product : false, restricted_area : false, }; $scope.doTheBack = function() {window.history.back(); } ; $scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); } ; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryWattingPeopleCtrl', function($scope, Product, $loading, $timeout, $rootScope, $location) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = ''; $scope.parent = 0; $rootScope.url = '/api/products/get-product-category-watting-people/' + $scope.parent; $scope.hadChild = false; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, }; $rootScope.parmasCateg = {watting_result : false, product_hot : false, not_enough : true, new_product : false, restricted_area : false, }; $scope.doTheBack = function() {window.history.back(); } ; $scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); } ; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryAreaCtrl', function($scope, Product, $loading, $timeout, $rootScope, $location) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = ''; $scope.parent = 0; $rootScope.url = '/api/products/get-product-category-area/' + $scope.parent; $scope.hadChild = false; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, help : false, }; $rootScope.parmasCateg = {watting_result : false, product_hot : false, not_enough : false, new_product : false, restricted_area : true, }; $scope.doTheBack = function() {window.history.back(); } ; $scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); }; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryHotCtrl', function($scope, Product, $loading, $timeout, $rootScope, $location) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = ''; $scope.parent = 0; $rootScope.url = '/api/products/get-product-category-hot/' + $scope.parent; $scope.hadChild = false; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, help : false, productapps : true, aheadapps : false, cartapps : false, profileapps : false, }; $rootScope.parmasCateg = {watting_result : false, product_hot : true, not_enough : false, new_product : false, restricted_area : false, }; $scope.doTheBack = function() {window.history.back(); } ;$scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); } ;var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryNewCtrl', function($scope, Product, $loading, $timeout, $rootScope, $location) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = ''; $scope.parent = 0; $rootScope.url = '/api/products/get-product-category-new/' + $scope.parent; $scope.hadChild = false; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, help : false, productapps : true, aheadapps : false, cartapps : false, profileapps : false, }; $rootScope.parmasCateg = {watting_result : false, product_hot : false, not_enough : false, new_product : true, restricted_area : false, }; $scope.doTheBack = function() {window.history.back(); }; $scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); }; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryChildWattingPeopleCtrl', function($scope, Product, $loading, $timeout, $stateParams, Category, $location, $rootScope) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = "/" + $stateParams.slug; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, help : false, }; $rootScope.parmasCateg = {watting_result : false, product_hot : false, not_enough : true, new_product : false, restricted_area : false, }; $scope.parent = _.last($stateParams.slug.split('-')); $rootScope.url = '/api/products/get-product-category-watting-people/' + $scope.parent; Category.getSlug.query({slug: $stateParams.slug }) .$promise.then(function(result) {_.size(result) < 1 ? $location.path('/danh-muc/sap-cong-bo.html') :($scope.hadChild = result[0] ); }) .catch(function(err){$location.path('/'); }); $scope.doTheBack = function() {window.history.back(); }; $scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); } ; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryChildWattingCtrl', function($scope, Product, $loading, $timeout, $stateParams, Category, $location, $rootScope) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = "/" + $stateParams.slug; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, help : false, productapps : true, aheadapps : false, cartapps : false, profileapps : false, }; $rootScope.parmasCateg = {watting_result : true, product_hot : false, not_enough : false, new_product : false, restricted_area : false, }; $scope.parent = _.last($stateParams.slug.split('-')); $rootScope.url = '/api/products/get-product-category/' + $scope.parent; Category.getSlug.query({slug: $stateParams.slug }) .$promise.then(function(result) {_.size(result) < 1 ? $location.path('/danh-muc/sap-cong-bo.html') :($scope.hadChild = result[0] ); }) .catch(function(err){$location.path('/'); }); $scope.doTheBack = function() {window.history.back(); } ;$scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); } ; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryChildAreaCtrl', function($scope, Product, $loading, $timeout, $stateParams, Category, $location, $rootScope) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = "/" + $stateParams.slug; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, help : false, }; $rootScope.parmasCateg = {watting_result : false, product_hot : false, not_enough : false, new_product : false, restricted_area : true, }; $scope.parent = _.last($stateParams.slug.split('-')); $rootScope.url = '/api/products/get-product-category-area/' + $scope.parent; Category.getSlug.query({slug: $stateParams.slug }) .$promise.then(function(result) {_.size(result) < 1 ? $location.path('/danh-muc/sap-cong-bo.html') :($scope.hadChild = result[0] ); }) .catch(function(err){$location.path('/'); }); $scope.doTheBack = function() {window.history.back(); } ;$scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); } ; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryChildHotCtrl', function($scope, Product, $loading, $timeout, $stateParams, Category, $location, $rootScope) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = "/" + $stateParams.slug; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, help : false, productapps : true, aheadapps : false, cartapps : false, profileapps : false, }; $rootScope.parmasCateg = {watting_result : false, product_hot : true, not_enough : false, new_product : false, restricted_area : false, }; $scope.parent = _.last($stateParams.slug.split('-')); $rootScope.url = '/api/products/get-product-category-hot/' + $scope.parent; Category.getSlug.query({slug: $stateParams.slug }) .$promise.then(function(result) {_.size(result) < 1 ? $location.path('/danh-muc/sap-cong-bo.html') :($scope.hadChild = result[0] ); }) .catch(function(err){$location.path('/'); }); $scope.doTheBack = function() {window.history.back(); }; $scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); } ; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } }) .controller('CategoryChildNewCtrl', function($scope, Product, $loading, $timeout, $stateParams, Category, $location, $rootScope) {$rootScope.isPageProduct = false; $rootScope.isHomePage = false; $rootScope.childLink = "/" + $stateParams.slug; $rootScope.parmas = {home : false, waiting_result : false, restricted_area : false, customer_share : false, forum : false, help : false, productapps : true, aheadapps : false, cartapps : false, profileapps : false, }; $rootScope.parmasCateg = {watting_result : false, product_hot : false, not_enough : false, new_product : true, restricted_area : false, }; $scope.parent = _.last($stateParams.slug.split('-')); $rootScope.url = '/api/products/get-product-category-new/' + $scope.parent; Category.getSlug.query({slug: $stateParams.slug }) .$promise.then(function(result) {_.size(result) < 1 ? $location.path('/danh-muc/sap-cong-bo.html') :($scope.hadChild = result[0] ); }) .catch(function(err){$location.path('/'); }); $scope.doTheBack = function() {window.history.back(); } ;$scope.search = ''; $scope.fnSearch = function(){$location.path('/tim-kiem-san-pham/'+$scope.search +'.html'); } ; var md = new MobileDetect(window.navigator.userAgent); $scope.isMobile = false; $scope.isnotMobile = true; if(md.mobile() != null){$scope.isMobile = true; $scope.isnotMobile = false; } })