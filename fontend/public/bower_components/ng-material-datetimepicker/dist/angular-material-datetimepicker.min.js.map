{"version":3,"sources":["angular-material-datetimepicker.js"],"names":["moduleName","VIEW_STATES","DATE","HOUR","MINUTE","css","el","name","angular","element","window","getComputedStyle","template","module","provider","this","locale","navigator","userLanguage","language","$get","setDefaultLocale","localeString","factory","mdcDatetimePickerDefaultLocale","default_params","date","time","minutes","format","minDate","maxDate","currentDate","lang","weekStart","shortTime","cancelText","okText","amText","pmText","todayText","disableDates","disableParentScroll","directive","$mdDialog","$timeout","restrict","require","scope","ngChange","showTodaysDate","link","attrs","ngModel","isOn","dateOfTheDay","undefined","moment","isString","$formatters","push","value","m","isValid","on","e","preventDefault","blur","parent","removeClass","options","i","hasOwnProperty","isUndefined","locals","show","controller","PluginController","controllerAs","openFrom","document","body","bindToController","hasBackDrop","skipHide","multiple","then","v","_d","isSame","$q","mdcDefaultParams","accepted_options","Object","keys","console","log","service","deferred","defer","params","copy","indexOf","clickOutsideToClose","resolve","reject","promise","$scope","currentView","_dialog","_attachedEvents","VIEWS","meridien","extend","init","$inject","prototype","timeMode","dateMode","initDates","start","currentNearest5Minute","Math","round","minute","that","_dateParam","input","fallback","ret","isDefined","isDate","x","getTime","_isAMomentObject","map","selectDate","initDate","initHours","initMinutes","isAfterMinDate","checkHour","checkMinute","_return","_minDate","_date","hour","second","millisecond","parseInt","isBeforeMaxDate","checkTime","_maxDate","isInDisableDates","dut","calendarStart","setName","text","possible","charAt","floor","random","length","isPM","incrementMonth","amount","isNextMonthVisible","add","isPreviousMonthVisible","incrementYear","isNextYearVisible","isPreviousYearVisible","startOf","endOf","isHourAvailable","convertHours","isMinuteAvailable","today","Date","now","ok","hide","cancel","selectMonthBefore","subtract","selectMonthAfter","selectYearBefore","selectYearAfter","selectAM","selectPM","h","okBtn","YEAR_MIN","YEAR_MAX","getFullYear","MONTHS_IN_ALL","ITEM_HEIGHT","MONTHS","currentMonthIndex","low","year","month","picker","$onInit","calendar","days","toString","week","high","months","slice","getItemAtIndex","index","monthObj","generateMonthCalendar","topIndex","$watch","val2","val1","nDate","startOfMonth","iNumDay","daysInMonth","iWeek","daysInAWeek","daysTmp","slices","ceil","j","toDay","substring","isInRange","isSelectedDay","isDateOfTheDay","$compile","buildCalendarContent","tbody","querySelector","cal","tbodyHtml","forEach","weekDays","weekDay","scopeRef","html","join","idx","oldIdx","minuteMode","mode","componentRoot","exec","clock","pickerEl","w","offsetWidth","pl","replace","pr","ml","mr","clockWidth","pL","pT","mL","mT","r","points","sin","PI","y","cos","left","top","style","margin-left","margin-top","display","setCurrentValue","clockCenter","centerWidth","centerHeight","offsetHeight","_hL","_mL","height","marginTop","addClass","animateHands","rotateElement","mdg","deg","WebkitTransform","-moz-transform","-ms-transform","transform","currentValue","tmp","setDisplayPoints","setTime","val","pointAvailable","point","unWatcher","querySelectorAll"],"mappings":"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","file":"angular-material-datetimepicker.min.js","sourcesContent":["(function () {\r\n  'use strict';\r\n  var moduleName = \"ngMaterialDatePicker\";\r\n\r\n  var VIEW_STATES = {\r\n    DATE: 0,\r\n    HOUR: 1,\r\n    MINUTE: 2\r\n  };\r\n\r\n  var css = function (el, name) {\r\n    el = angular.element(el);\r\n    return ('getComputedStyle' in window) ? window.getComputedStyle(el[0])[name] : el.css(name);\r\n  };\r\n\r\n  var template = \r\n    '<md-dialog class=\"dtp\" layout=\"column\" style=\"width: 300px;\">' +\r\n    '    <md-dialog-content class=\"dtp-content\">' +\r\n    '        <div class=\"dtp-date-view\">' +\r\n    '            <header class=\"dtp-header\">' +\r\n    '                <div class=\"dtp-actual-day\" ng-show=\"picker.dateMode\">{{picker.currentDate.format(\"dddd\")}}</div>' +\r\n    '                <div class=\"dtp-actual-day\" ng-show=\"picker.timeMode\">{{picker.params.shortTime ? picker.currentDate.format(\"A\") : \" \"}}</div>' +\r\n    '                <div class=\"dtp-close text-right noselect\">' +\r\n    '                    <a href=\"#\" mdc-dtp-noclick ng-click=\"picker.hide()\">&times;</a>' +\r\n    '                </div>' +\r\n    '            </header>' +\r\n    '            <div class=\"dtp-date\" ng-show=\"picker.params.date\">' +\r\n    '                <div layout=\"row\">' +\r\n    '                    <div ng-click=\"picker.incrementMonth(-1)\" class=\"dtp-month-btn dtp-month-btn-prev noselect\" flex=\"30\"><span ng-if=\"picker.isPreviousMonthVisible()\">&#x25B2;</span></div>' +\r\n    '                    <div class=\"dtp-actual-month\" flex>{{picker.currentDate.format(\"MMM\") | uppercase}}</div>' +\r\n    '                    <div ng-click=\"picker.incrementMonth(1)\" class=\"dtp-month-btn dtp-month-btn-next noselect\" flex=\"30\"><span ng-if=\"picker.isNextMonthVisible()\">&#x25BC;</span></div>' +\r\n    '                </div>' +\r\n    '                <div class=\"dtp-actual-num\">{{picker.currentDate.format(\"DD\")}}</div>' +\r\n    '                <div layout=\"row\">' +\r\n    '                    <div ng-click=\"picker.incrementYear(-1)\" class=\"dtp-year-btn dtp-year-btn-prev noselect\" flex=\"30\"><span ng-if=\"picker.isPreviousYearVisible()\">&#x25B2;</span></div>' +\r\n    '                    <div class=\"dtp-actual-year\" flex>{{picker.currentDate.format(\"YYYY\")}}</div>' +\r\n    '                    <div ng-click=\"picker.incrementYear(1)\" class=\"dtp-year-btn dtp-year-btn-next noselect\" flex=\"30\"><span ng-if=\"picker.isNextYearVisible()\">&#x25BC;</span></div>' +\r\n    '                </div>'+\r\n    '            </div>' + //start time \r\n    '            <div class=\"dtp-time\" ng-show=\"picker.params.time && !picker.params.date\">' +\r\n    '                <div class=\"dtp-actual-maxtime\">{{picker.currentNearest5Minute().format(picker.params.shortTime ? \"hh:mm\" : \"HH:mm\")}}</div>' +\r\n    '            </div>' +\r\n    '            <div class=\"dtp-picker\">' +\r\n    '                <mdc-datetime-picker-calendar date=\"picker.currentDate\" picker=\"picker\" class=\"dtp-picker-calendar\" ng-show=\"picker.currentView === picker.VIEWS.DATE\"></mdc-datetime-picker-calendar>' +\r\n    '                <div class=\"dtp-picker-datetime\" ng-cloak ng-if=\"picker.currentView !== picker.VIEWS.DATE\">' +\r\n    '                    <div class=\"dtp-actual-meridien\">' +\r\n    '                        <div class=\"left p20\">' +\r\n    '                            <a id=\"time-periods-am\" href=\"#\" mdc-dtp-noclick class=\"dtp-meridien-am\" ng-class=\"{selected: picker.meridien == \\'AM\\'}\" ng-click=\"picker.selectAM()\">{{picker.params.amText}}</a>' +\r\n    '                        </div>' +\r\n    '                        <div ng-show=\"!picker.timeMode\" class=\"dtp-actual-time p60\">{{picker.currentNearest5Minute().format(picker.params.shortTime ? \"hh:mm\" : \"HH:mm\")}}</div>' +\r\n    '                        <div class=\"right p20\">' +\r\n    '                            <a id=\"time-periods-pm\" href=\"#\" mdc-dtp-noclick class=\"dtp-meridien-pm\" ng-class=\"{selected: picker.meridien == \\'PM\\'}\" ng-click=\"picker.selectPM()\">{{picker.params.pmText}}</a>' +\r\n    '                        </div>' +\r\n    '                        <div class=\"clearfix\"></div>' +\r\n    '                    </div>' +\r\n    '                    <mdc-datetime-picker-clock mode=\"hours\" ng-if=\"picker.currentView === picker.VIEWS.HOUR\"></mdc-datetime-picker-clock>' +\r\n    '                    <mdc-datetime-picker-clock mode=\"minutes\" ng-if=\"picker.currentView === picker.VIEWS.MINUTE\"></mdc-datetime-picker-clock>' +\r\n    '                </div>' +\r\n    '            </div>' +\r\n    '        </div>' +\r\n    '    </md-dialog-content>' +\r\n    '    <md-dialog-actions class=\"dtp-buttons\">' +\r\n    '            <md-button class=\"dtp-btn-today md-button\" ng-click=\"picker.today()\"> {{picker.params.todayText}}</md-button>' +\r\n    '            <md-button class=\"dtp-btn-cancel md-button\" ng-click=\"picker.cancel()\"> {{picker.params.cancelText}}</md-button>' +\r\n    '            <md-button class=\"dtp-btn-ok md-button\" ng-click=\"picker.ok()\"> {{picker.params.okText}}</md-button>' +\r\n    '      </md-dialog-actions>' +\r\n    '</md-dialog>';\r\n\r\n  angular.module(moduleName, ['ngMaterial'])\r\n    .provider('mdcDatetimePickerDefaultLocale', function () {\r\n      this.locale = window.navigator.userLanguage || window.navigator.language || 'en';\r\n\r\n      this.$get = function () {\r\n        return this;\r\n      };\r\n\r\n      this.setDefaultLocale = function (localeString) {\r\n        this.locale = localeString;\r\n      };\r\n    })\r\n    .factory('mdcDefaultParams', ['mdcDatetimePickerDefaultLocale', function (mdcDatetimePickerDefaultLocale) {\r\n      var default_params = {\r\n        date: true,\r\n        time: true,\r\n        minutes: true,\r\n        format: 'YYYY-MM-DD',\r\n        minDate: null,\r\n        maxDate: null,\r\n        currentDate: null,\r\n        lang: mdcDatetimePickerDefaultLocale.locale,\r\n        weekStart: 0,\r\n        shortTime: false,\r\n        cancelText: 'Cancel',\r\n        okText: 'OK',\r\n        amText: 'AM',\r\n        pmText: 'PM',\r\n        todayText: 'Today',\r\n        disableDates: [],\r\n        disableParentScroll: false\r\n      };\r\n      return default_params;\r\n    }])\r\n    .directive('mdcDatetimePicker', ['$mdDialog', '$timeout',\r\n      function ($mdDialog, $timeout) {\r\n\r\n        return {\r\n          restrict: 'A',\r\n          require: 'ngModel',\r\n          scope: {\r\n            currentDate: '=ngModel',\r\n            ngChange: '&',\r\n            time: '=',\r\n            date: '=',\r\n            minutes: '=',\r\n            minDate: '=',\r\n            maxDate: '=',\r\n            disableDates: '=',\r\n            shortTime: '=',\r\n            weekStart: '=',\r\n            format: '@',\r\n            cancelText: '@',\r\n            okText: '@',\r\n            lang: '@',\r\n            amText: '@',\r\n            pmText: '@',\r\n            showTodaysDate: '@',\r\n            todayText: '@',\r\n            disableParentScroll: '='\r\n          },\r\n          link: function (scope, element, attrs, ngModel) {\r\n            var isOn = false;\r\n            if (!scope.format) {\r\n              if (scope.date && scope.time) {\r\n                scope.format = 'YYYY-MM-DD HH:mm';\r\n              } else if (scope.date) {\r\n                scope.format = 'YYYY-MM-DD';\r\n              } else {\r\n                scope.format = 'HH:mm';\r\n              }\r\n            }\r\n\r\n            var dateOfTheDay = null;\r\n            if (scope.showTodaysDate !== undefined && scope.showTodaysDate !== \"false\") {\r\n              dateOfTheDay = moment();\r\n            }\r\n\r\n            if (angular.isString(scope.currentDate) && scope.currentDate !== '') {\r\n              scope.currentDate = moment(scope.currentDate, scope.format);\r\n            }\r\n\r\n            if (ngModel) {\r\n              ngModel.$formatters.push(function (value) {\r\n                if (typeof value === 'undefined') {\r\n                  return;\r\n                }\r\n                var m = moment(value);\r\n                return m.isValid() ? m.format(scope.format) : '';\r\n              });\r\n            }\r\n\r\n            //@TODO custom event to trigger input\r\n            element.on('focus', function (e) {\r\n              e.preventDefault();\r\n              element.blur();\r\n              element.parent().removeClass('md-input-focused');\r\n              if (isOn) {\r\n                return;\r\n              }\r\n              isOn = true;\r\n              var options = {};\r\n              for (var i in attrs) {\r\n                if (scope.hasOwnProperty(i) && !angular.isUndefined(scope[i])) {\r\n                  options[i] = scope[i];\r\n                }\r\n              }\r\n              options.currentDate = scope.currentDate;\r\n              options.showTodaysDate = dateOfTheDay;\r\n\r\n              var locals = {options: options};\r\n              $mdDialog.show({\r\n                template: template,\r\n                controller: PluginController,\r\n                controllerAs: 'picker',\r\n                locals: locals,\r\n                openFrom: element,\r\n                parent: angular.element(document.body),\r\n                bindToController: true,\r\n                disableParentScroll: options.disableParentScroll || false,\r\n                hasBackDrop: false,\r\n                skipHide: true,\r\n                multiple: true\r\n              })\r\n                .then(function (v) {\r\n                  scope.currentDate = v ? v._d : v;\r\n                  isOn = false;\r\n\r\n                  if (!moment(scope.currentDate).isSame(options.currentDate)) {\r\n                    $timeout(scope.ngChange, 0);\r\n                  }\r\n\r\n                  element.parent().removeClass('md-input-focused');\r\n\r\n                }, function () {\r\n                  isOn = false;\r\n                  element.parent().removeClass('md-input-focused');\r\n                })\r\n              ;\r\n            });\r\n            \r\n          }\r\n        };\r\n      }])\r\n    /** Returns a service that opens a dialog when the attribute shown is called\r\n     The dialog serves to select a date/time/etc. depending on the options given to the function show\r\n\r\n     @param options extends mdcDefaultParams\r\n     {\r\n       date: {boolean} =true,\r\n       time: {boolean} =true,\r\n       minutes: {boolean} =true,\r\n       format: {string} ='YYYY-MM-DD',\r\n       minDate: {strign} =null,\r\n       maxDate: {string} =null,\r\n       currentDate: {string} =null,\r\n       lang: {string} =mdcDatetimePickerDefaultLocale,\r\n       weekStart: {int} =0,\r\n       shortTime: {boolean} =false,\r\n       cancelText: {string} ='Cancel',\r\n       todayText: {string} ='Today',\r\n       okText: {string} ='OK',\r\n       amText: {string} ='AM',\r\n       pmText: {string} ='PM',\r\n       disableDates: {date[]} =[],\r\n       disableParentScroll: {boolean} =false\r\n     }\r\n     @return promise\r\n    */\r\n    .factory('mdcDateTimeDialog', [\"$mdDialog\", \"$q\", \"mdcDefaultParams\", function ($mdDialog, $q, mdcDefaultParams) {\r\n      var accepted_options = Object.keys(mdcDefaultParams);\r\n      console.log(accepted_options);\r\n      var service = {\r\n        show: function (options) {\r\n          var deferred = $q.defer();\r\n          var params = angular.copy(mdcDefaultParams);\r\n          for (var i in options) {\r\n            if (accepted_options.indexOf[i] != -1 && options.hasOwnProperty(i)) {\r\n              params = options[i];\r\n            }\r\n          }\r\n\r\n          var locals = {options: options};\r\n          $mdDialog.show({\r\n            template: template,\r\n            controller: PluginController,\r\n            controllerAs: 'picker',\r\n            locals: locals,\r\n            parent: angular.element(document.body),\r\n            bindToController: true,\r\n            clickOutsideToClose: true,\r\n            disableParentScroll: options.disableParentScroll || false,\r\n            skipHide: true,\r\n            multiple: true\r\n          })\r\n            .then(function (v) {\r\n              var currentDate = v ? v._d : v;\r\n              deferred.resolve(v ? v._d : v);\r\n            }, function () {\r\n              deferred.reject();\r\n            });\r\n          return deferred.promise;\r\n        }\r\n      };\r\n\r\n      return service;\r\n    }])\r\n  ;\r\n\r\n  var PluginController = function ($scope, $mdDialog, mdcDefaultParams) {\r\n    this.currentView = VIEW_STATES.DATE;\r\n    this._dialog = $mdDialog;\r\n\r\n    this._attachedEvents = [];\r\n    this.VIEWS = VIEW_STATES;\r\n    this.params = angular.copy(mdcDefaultParams);\r\n    this.meridien = 'AM';\r\n    this.params = angular.extend(this.params, this.options);\r\n\r\n    this.init();\r\n  };\r\n\r\n  PluginController.$inject = ['$scope', '$mdDialog', 'mdcDefaultParams'];\r\n  PluginController.prototype = {\r\n    init: function () {\r\n      this.timeMode = this.params.time && !this.params.date;\r\n      this.dateMode = this.params.date;\r\n      this.initDates();\r\n      this.start();\r\n    },\r\n    currentNearest5Minute: function () {\r\n      var date = this.currentDate || moment();\r\n      var minutes = (5 * Math.round(date.minute() / 5));\r\n      if (minutes >= 60) {\r\n        minutes = 55; //always push down\r\n      }\r\n      return moment(date).minutes(minutes);\r\n    },\r\n    initDates: function () {\r\n      var that = this;\r\n      var _dateParam = function (input, fallback) {\r\n        var ret = null;\r\n        if (angular.isDefined(input) && input !== null && input !== '') {\r\n          if (angular.isString(input)) {\r\n            if (typeof(that.params.format) !== 'undefined' && that.params.format !== null) {\r\n              ret = moment(input, that.params.format).locale(that.params.lang);\r\n            }\r\n            else {\r\n              ret = moment(input).locale(that.params.lang);\r\n            }\r\n          } else if (typeof input === 'number') {\r\n            ret = moment(input).locale(that.params.lang);\r\n          } else {\r\n            if (angular.isDate(input)) {\r\n              var x = input.getTime();\r\n              ret = moment(x, \"x\").locale(that.params.lang);\r\n            } else if (input._isAMomentObject) {\r\n              ret = input;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          ret = fallback;\r\n        }\r\n        return ret;\r\n      };\r\n\r\n      this.currentDate = _dateParam(this.params.currentDate, moment());\r\n      this.minDate = _dateParam(this.params.minDate);\r\n      this.maxDate = _dateParam(this.params.maxDate);\r\n      this.disableDates = this.params.disableDates.map(function (x) {\r\n        return moment(x).format('MMMM Do YYYY');\r\n      });\r\n      this.selectDate(this.currentDate);\r\n    },\r\n    initDate: function () {\r\n      this.currentView = VIEW_STATES.DATE;\r\n    },\r\n    initHours: function () {\r\n      this.currentView = VIEW_STATES.HOUR;\r\n    },\r\n    initMinutes: function () {\r\n      this.currentView = VIEW_STATES.MINUTE;\r\n    },\r\n    isAfterMinDate: function (date, checkHour, checkMinute) {\r\n      var _return = true;\r\n\r\n      if (typeof(this.minDate) !== 'undefined' && this.minDate !== null) {\r\n        var _minDate = moment(this.minDate);\r\n        var _date = moment(date);\r\n\r\n        if (!checkHour && !checkMinute) {\r\n          _minDate.hour(0);\r\n          _minDate.minute(0);\r\n\r\n          _date.hour(0);\r\n          _date.minute(0);\r\n        }\r\n\r\n        _minDate.second(0);\r\n        _date.second(0);\r\n        _minDate.millisecond(0);\r\n        _date.millisecond(0);\r\n\r\n        if (!checkMinute) {\r\n          _date.minute(0);\r\n          _minDate.minute(0);\r\n\r\n          _return = (parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\")));\r\n        }\r\n        else {\r\n          _return = (parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\")));\r\n        }\r\n      }\r\n\r\n      return _return;\r\n    },\r\n    isBeforeMaxDate: function (date, checkTime, checkMinute) {\r\n      var _return = true;\r\n\r\n      if (typeof(this.maxDate) !== 'undefined' && this.maxDate !== null) {\r\n        var _maxDate = moment(this.maxDate);\r\n        var _date = moment(date);\r\n\r\n        if (!checkTime && !checkMinute) {\r\n          _maxDate.hour(0);\r\n          _maxDate.minute(0);\r\n\r\n          _date.hour(0);\r\n          _date.minute(0);\r\n        }\r\n\r\n        _maxDate.second(0);\r\n        _date.second(0);\r\n        _maxDate.millisecond(0);\r\n        _date.millisecond(0);\r\n\r\n        if (!checkMinute) {\r\n          _date.minute(0);\r\n          _maxDate.minute(0);\r\n\r\n          _return = (parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\")));\r\n        }\r\n        else {\r\n          _return = (parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\")));\r\n        }\r\n      }\r\n\r\n      return _return;\r\n    },\r\n    isInDisableDates: function (date) {\r\n      var dut = date.format('MMMM Do YYYY');\r\n      if (this.disableDates.indexOf(dut) > -1) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    selectDate: function (date) {\r\n      if (date) {\r\n        this.currentDate = moment(date);\r\n        if (!this.isAfterMinDate(this.currentDate)) {\r\n          this.currentDate = moment(this.minDate);\r\n        }\r\n\r\n        if (!this.isBeforeMaxDate(this.currentDate)) {\r\n          this.currentDate = moment(this.maxDate);\r\n        }\r\n        this.currentDate.locale(this.params.lang);\r\n        this.calendarStart = moment(this.currentDate);\r\n        this.meridien = this.currentDate.hour() >= 12 ? 'PM' : 'AM';\r\n      }\r\n    },\r\n    setName: function () {\r\n      var text = \"\";\r\n      var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n      for (var i = 0; i < 5; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n      }\r\n\r\n      return text;\r\n    },\r\n    isPM: function () {\r\n      return this.meridien === 'PM';\r\n    },\r\n    incrementMonth: function (amount) {\r\n      if (amount === 1 && this.isNextMonthVisible()) {\r\n        this.selectDate(this.currentDate.add(amount, 'month'));\r\n      }\r\n\r\n      if (amount === -1 && this.isPreviousMonthVisible()) {\r\n        this.selectDate(this.currentDate.add(amount, 'month'));\r\n      }\r\n    },\r\n    incrementYear: function (amount) {\r\n      if (amount === 1 && this.isNextYearVisible()) {\r\n        this.selectDate(this.currentDate.add(amount, 'year'));\r\n      }\r\n\r\n      if (amount === -1 && this.isPreviousYearVisible()) {\r\n        this.selectDate(this.currentDate.add(amount, 'year'));\r\n      }\r\n    },\r\n    isPreviousMonthVisible: function () {\r\n      return this.calendarStart && this.isAfterMinDate(moment(this.calendarStart).startOf('month'), false, false);\r\n    },\r\n    isNextMonthVisible: function () {\r\n      return this.calendarStart && this.isBeforeMaxDate(moment(this.calendarStart).endOf('month'), false, false);\r\n    },\r\n    isPreviousYearVisible: function () {\r\n      return this.calendarStart && this.isAfterMinDate(moment(this.calendarStart).startOf('year'), false, false);\r\n    },\r\n    isNextYearVisible: function () {\r\n      return this.calendarStart && this.isBeforeMaxDate(moment(this.calendarStart).endOf('year'), false, false);\r\n    },\r\n    isHourAvailable: function (hour) {\r\n      var _date = moment(this.currentDate);\r\n      _date.hour(this.convertHours(hour)).minute(0).second(0);\r\n      return this.isAfterMinDate(_date, true, false) && this.isBeforeMaxDate(_date, true, false);\r\n    },\r\n    isMinuteAvailable: function (minute) {\r\n      var _date = moment(this.currentDate);\r\n      _date.minute(minute).second(0);\r\n      return this.isAfterMinDate(_date, true, true) && this.isBeforeMaxDate(_date, true, true);\r\n    },\r\n    start: function () {\r\n      this.currentView = VIEW_STATES.DATE;\r\n      if (this.params.date) {\r\n        this.initDate();\r\n      } else {\r\n        if (this.params.time) {\r\n          this.initHours();\r\n        }\r\n      }\r\n    },\r\n    today: function () {\r\n      this.selectDate(Date.now());\r\n    },\r\n    ok: function () {\r\n      switch (this.currentView) {\r\n        case VIEW_STATES.DATE:\r\n          if (this.params.time === true) {\r\n            this.initHours();\r\n          } else {\r\n            this.hide(true);\r\n          }\r\n          break;\r\n        case VIEW_STATES.HOUR:\r\n          if (this.params.minutes === true) {\r\n            this.initMinutes();\r\n          } else {\r\n            this.hide(true);\r\n          }\r\n          break;\r\n        case VIEW_STATES.MINUTE:\r\n          this.hide(true);\r\n          break;\r\n      }\r\n    },\r\n    cancel: function () {\r\n      if (this.params.time) {\r\n        switch (this.currentView) {\r\n          case VIEW_STATES.DATE:\r\n            this.hide();\r\n            break;\r\n          case VIEW_STATES.HOUR:\r\n            if (this.params.date) {\r\n              this.initDate();\r\n            }\r\n            else {\r\n              this.hide();\r\n            }\r\n            break;\r\n          case VIEW_STATES.MINUTE:\r\n            this.initHours();\r\n            break;\r\n        }\r\n      }\r\n      else {\r\n        this.hide();\r\n      }\r\n    },\r\n    selectMonthBefore: function () {\r\n      this.calendarStart.subtract(1, 'months');\r\n    },\r\n    selectMonthAfter: function () {\r\n      this.calendarStart.add(1, 'months');\r\n    },\r\n    selectYearBefore: function () {\r\n      this.calendarStart.subtract(1, 'years');\r\n    },\r\n    selectYearAfter: function () {\r\n      this.calendarStart.add(1, 'years');\r\n    },\r\n    selectAM: function () {\r\n      if (this.isHourAvailable(0) || this.isHourAvailable(12)) {\r\n        if (this.currentDate.hour() >= 12) {\r\n          this.selectDate(this.currentDate.subtract(12, 'hours'));\r\n        }\r\n        if (!this.isHourAvailable(this.currentDate.hour())) {\r\n          this.selectDate(this.currentDate.hour(this.minDate.hour()));\r\n        }\r\n        if (!this.isMinuteAvailable(this.currentDate.minute())) {\r\n          this.selectDate(this.currentDate.minute(this.minDate.minute()));\r\n        }\r\n      }\r\n    },\r\n    selectPM: function () {\r\n      if (this.isHourAvailable(13) || this.isHourAvailable(24)) {\r\n        if (this.currentDate.hour() < 12) {\r\n          this.selectDate(this.currentDate.add(12, 'hours'));\r\n        }\r\n        if (!this.isHourAvailable(this.currentDate.hour())) {\r\n          this.selectDate(this.currentDate.hour(this.maxDate.hour()));\r\n        }\r\n        if (!this.isMinuteAvailable(this.currentDate.minute())) {\r\n          this.selectDate(this.currentDate.minute(this.maxDate.minute()));\r\n        }\r\n      }\r\n    },\r\n    convertHours: function (h) {\r\n      var _return = h;\r\n      if ((h < 12) && this.isPM())\r\n        _return += 12;\r\n\r\n      return _return;\r\n    },\r\n    hide: function (okBtn) {\r\n      if (okBtn) {\r\n        this._dialog.hide(this.currentDate);\r\n      } else {\r\n        this._dialog.cancel();\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  angular.module(moduleName)\r\n    .directive('mdcDatetimePickerCalendar', [\r\n      function () {\r\n\r\n        var YEAR_MIN = 1920,\r\n          YEAR_MAX = new Date().getFullYear() + 30,\r\n          MONTHS_IN_ALL = (YEAR_MAX - YEAR_MIN + 1) * 12,\r\n          ITEM_HEIGHT = 240,\r\n          MONTHS = [];\r\n        for (var i = 0; i < MONTHS_IN_ALL; i++) {\r\n          MONTHS.push(i);\r\n        }\r\n\r\n        var currentMonthIndex = function (date, low) {\r\n          low = low ? low : 0;\r\n          var year = date.year();\r\n          var month = date.month();\r\n          return (((year - YEAR_MIN) * 12) + month - 1 ) - low;\r\n        };\r\n\r\n        return {\r\n          restrict: 'E',\r\n          scope: {\r\n            picker: '=',\r\n            date: '='\r\n          },\r\n          bindToController: true,\r\n          controllerAs: 'cal',\r\n          controller: ['$scope', function ($scope) {\r\n            this.$onInit = function () {\r\n              var calendar = this,\r\n                picker = this.picker,\r\n                days = [];\r\n\r\n              for (var i = picker.params.weekStart; days.length < 7; i++) {\r\n                if (i > 6) {\r\n                  i = 0;\r\n                }\r\n                days.push(i.toString());\r\n              }\r\n\r\n              calendar.week = days;\r\n              if (!picker.maxDate && !picker.minDate) {\r\n                calendar.months = MONTHS;\r\n              } else {\r\n                var low = picker.minDate ? currentMonthIndex(picker.minDate) : 0;\r\n                var high = picker.maxDate ? (currentMonthIndex(picker.maxDate) + 1) : MONTHS_IN_ALL;\r\n                calendar.months = MONTHS.slice(low, high);\r\n              }\r\n\r\n              calendar.getItemAtIndex = function (index) {\r\n                var month = ((index + 1) % 12) || 12;\r\n                var year = YEAR_MIN + Math.floor(index / 12);\r\n                var monthObj = moment(picker.currentDate).year(year).month(month);\r\n                return generateMonthCalendar(monthObj);\r\n              };\r\n\r\n              calendar.topIndex = currentMonthIndex(picker.currentDate) - calendar.months[0];\r\n\r\n              $scope.$watch(function () {\r\n                return picker.currentDate ? picker.currentDate.format('YYYY-MM') : '';\r\n              }, function (val2, val1) {\r\n                if (val2 != val1) {\r\n                  var nDate = moment(val2, 'YYYY-MM');\r\n                  var low = picker.minDate ? currentMonthIndex(picker.minDate) : 0;\r\n                  var index = currentMonthIndex(nDate, low);\r\n                  if (calendar.topIndex != index) {\r\n                    calendar.topIndex = index;\r\n                  }\r\n                }\r\n              });\r\n\r\n              var generateMonthCalendar = function (date) {\r\n                var month = {};\r\n                if (date !== null) {\r\n                  month.name = date.format('MMMM YYYY');\r\n                  var startOfMonth = moment(date).locale(picker.params.lang).startOf('month')\r\n                      .hour(date.hour())\r\n                      .minute(date.minute());\r\n                  var iNumDay = startOfMonth.format('d');\r\n                  month.days = [];\r\n                  for (var i = startOfMonth.date(); i <= startOfMonth.daysInMonth(); i++) {\r\n                    if (i === startOfMonth.date()) {\r\n                      var iWeek = calendar.week.indexOf(iNumDay.toString());\r\n                      if (iWeek > 0) {\r\n                        for (var x = 0; x < iWeek; x++) {\r\n                          month.days.push(0);\r\n                        }\r\n                      }\r\n                    }\r\n                    month.days.push(moment(startOfMonth).locale(picker.params.lang).date(i));\r\n                  }\r\n\r\n                  var daysInAWeek = 7, daysTmp = [], slices = Math.ceil(month.days.length / daysInAWeek);\r\n                  for (var j = 0; j < slices; j++) {\r\n                    daysTmp.push(month.days.slice(j * daysInAWeek, (j + 1) * daysInAWeek));\r\n                  }\r\n                  month.days = daysTmp;\r\n                  return month;\r\n                }\r\n\r\n              };\r\n\r\n              calendar.toDay = function (i) {\r\n                return moment(parseInt(i), \"d\")\r\n                  .locale(picker.params.lang)\r\n                  .format(\"dd\")\r\n                  .substring(0, 1);\r\n              };\r\n\r\n              calendar.isInRange = function (date) {\r\n                return picker.isAfterMinDate(moment(date), false, false) &&\r\n                  picker.isBeforeMaxDate(moment(date), false, false) &&\r\n                  picker.isInDisableDates(moment(date));\r\n              };\r\n\r\n              calendar.selectDate = function (date) {\r\n                if (date) {\r\n                  if (calendar.isSelectedDay(date)) {\r\n                    return picker.ok();\r\n                  }\r\n                  picker.selectDate(moment(date).hour(calendar.date.hour()).minute(calendar.date.minute()));\r\n                }\r\n              };\r\n\r\n              calendar.isSelectedDay = function (m) {\r\n                return m && calendar.date.date() === m.date() && calendar.date.month() === m.month() && calendar.date.year() === m.year();\r\n              };\r\n\r\n              calendar.isDateOfTheDay = function (m) {\r\n                var today = calendar.picker.options.showTodaysDate;\r\n                if (!today) {\r\n                  return false;\r\n                }\r\n\r\n                return m && today.date() === m.date() && today.month() === m.month() && today.year() === m.year();\r\n              };\r\n            };\r\n          }],\r\n          template: \r\n          '<md-virtual-repeat-container md-top-index=\"cal.topIndex\" class=\"months\">' +\r\n          '<div md-virtual-repeat=\"idx in ::cal.months\" md-auto-shrink md-item-size=\"' + ITEM_HEIGHT + '\">' +\r\n          '     <div mdc-datetime-picker-calendar-month idx=\"idx\"></div>' +\r\n          '</div>' +\r\n          '</md-virtual-repeat-container>'\r\n        };\r\n      }])\r\n    .directive('mdcDatetimePickerCalendarMonth', ['$compile',\r\n      function ($compile) {\r\n        var buildCalendarContent = function (element, scope) {\r\n          var tbody = angular.element(element[0].querySelector('tbody'));\r\n          var calendar = scope.cal, month = scope.month;\r\n\r\n          var tbodyHtml = [];\r\n\r\n          month.days.forEach(function (weekDays, i) {\r\n            tbodyHtml.push('<tr>');\r\n            weekDays.forEach(function (weekDay, j) {\r\n              tbodyHtml.push('<td>');\r\n              if (weekDay) {\r\n                if (calendar.isInRange(weekDay)) {\r\n                  //build a\r\n                  var scopeRef = 'month[\\'days\\'][' + i + '][' + j + ']';\r\n\r\n                  tbodyHtml.push('<a id=\"date-' + weekDay.format('YYYY-MM-DD') + '\" href=\"#\" mdc-dtp-noclick class=\"dtp-select-day\" ng-class=\"{selected: cal.isSelectedDay(' + scopeRef + '), hilite: cal.isDateOfTheDay(' + scopeRef + ')}\" ng-click=\"cal.selectDate(' + scopeRef + ')\">');\r\n                  tbodyHtml.push(weekDay.format('D'));\r\n                  tbodyHtml.push('</a>');\r\n                } else {\r\n                  tbodyHtml.push('<span class=\"dtp-select-day\">');\r\n                  tbodyHtml.push(weekDay.format('D'));\r\n                  tbodyHtml.push('</span>');\r\n                }\r\n              }\r\n              tbodyHtml.push('</td>');\r\n            });\r\n            tbodyHtml.push('</tr>');\r\n          });\r\n\r\n          tbody.html(tbodyHtml.join(''));\r\n          $compile(tbody)(scope);\r\n        };\r\n\r\n        return {\r\n          scope: {\r\n            idx: '='\r\n          },\r\n          require: '^mdcDatetimePickerCalendar',\r\n          restrict: 'AE',\r\n          template: \r\n            '<div class=\"dtp-picker-month\">{{month.name}}</div>' +\r\n            '<table class=\"table dtp-picker-days\">' +\r\n            '    <thead>' +\r\n            '    <tr>' +\r\n            '        <th ng-repeat=\"day in cal.week track by $index\">{{cal.toDay(day)}}</th>' +\r\n            '    </tr>' +\r\n            '    </thead>' +\r\n            '    <tbody>' +\r\n            '    </tbody>' +\r\n            '</table>',\r\n          link: function (scope, element, attrs, calendar) {\r\n            scope.cal = calendar;\r\n            scope.month = calendar.getItemAtIndex(parseInt(scope.idx));\r\n            buildCalendarContent(element, scope);\r\n            scope.$watch(function () {\r\n              return scope.idx;\r\n            }, function (idx, oldIdx) {\r\n              if (idx != oldIdx) {\r\n                scope.month = calendar.getItemAtIndex(parseInt(scope.idx));\r\n                buildCalendarContent(element, scope);\r\n              }\r\n            });\r\n          }\r\n        };\r\n      }\r\n    ])\r\n  ;\r\n\r\n  angular.module(moduleName)\r\n    .directive('mdcDtpNoclick', function () {\r\n      return {\r\n        link: function (scope, el) {\r\n          el.on('click', function (e) {\r\n            e.preventDefault();\r\n          });\r\n        }\r\n      };\r\n    });\r\n  angular.module(moduleName)\r\n    .directive('mdcDatetimePickerClock', [\r\n      function () {\r\n\r\n        var template = \r\n          '<div class=\"dtp-picker-clock\"><span ng-if=\"!points || points.length < 1\">&nbsp;</span>' +\r\n          '<div ng-repeat=\"point in points\" class=\"dtp-picker-time\" ng-style=\"point.style\">' +\r\n          '   <a href=\"#\" id=\"time-{{mode}}-{{point.display}}\" mdc-dtp-noclick ng-class=\"{selected: point.value===currentValue}\" class=\"dtp-select-hour\" ng-click=\"setTime(point.value)\" ng-if=\"pointAvailable(point)\">{{point.display}}</a>' +\r\n          '   <a href=\"#\" mdc-dtp-noclick class=\"disabled dtp-select-hour\" ng-if=\"!pointAvailable(point)\">{{point.display}}</a>' +\r\n          '</div>' +\r\n          '<div class=\"dtp-hand dtp-hour-hand\"></div>' +\r\n          '<div class=\"dtp-hand dtp-minute-hand\"></div>' +\r\n          '<div class=\"dtp-clock-center\"></div>' +\r\n          '</div>';\r\n\r\n        return {\r\n          restrict: 'E',\r\n          template: template,\r\n          link: function (scope, element, attrs) {\r\n            var minuteMode = attrs.mode === 'minutes';\r\n            var picker = scope.picker;\r\n            //banking on the fact that there will only be one at a time\r\n            var componentRoot = document.querySelector('md-dialog.dtp');\r\n            var exec = function () {\r\n              var clock = angular.element(element[0].querySelector('.dtp-picker-clock')),\r\n                  pickerEl = angular.element(componentRoot.querySelector('.dtp-picker'));\r\n\r\n              var w = componentRoot.querySelector('.dtp-content').offsetWidth;\r\n              var pl = parseInt(css(pickerEl, 'paddingLeft').replace('px', '')) || 0;\r\n              var pr = parseInt(css(pickerEl, 'paddingRight').replace('px', '')) || 0;\r\n              var ml = parseInt(css(clock, 'marginLeft').replace('px', '')) || 0;\r\n              var mr = parseInt(css(clock, 'marginRight').replace('px', '')) || 0;\r\n              //set width\r\n              var clockWidth = (w - (ml + mr + pl + pr));\r\n              clock.css('width', (clockWidth) + 'px');\r\n\r\n              var pL = parseInt(css(pickerEl, 'paddingLeft').replace('px', '')) || 0;\r\n              var pT = parseInt(css(pickerEl, 'paddingTop').replace('px', '')) || 0;\r\n              var mL = parseInt(css(clock, 'marginLeft').replace('px', '')) || 0;\r\n              var mT = parseInt(css(clock, 'marginTop').replace('px', '')) || 0;\r\n\r\n              var r = (clockWidth / 2);\r\n              var j = r / 1.2; //???\r\n\r\n              var points = [];\r\n\r\n              for (var h = 0; h < 12; ++h) {\r\n                var x = j * Math.sin(Math.PI * 2 * (h / 12));\r\n                var y = j * Math.cos(Math.PI * 2 * (h / 12));\r\n                var left = (r + x + pL / 2) - (pL + mL);\r\n                var top = (r - y - mT / 2) - (pT + mT);\r\n\r\n                var hour = {\r\n                  left: left,\r\n                  top: top,\r\n                  value: (minuteMode ? (h * 5) : h), //5 for minute 60/12\r\n                  style: {'margin-left': left + 'px', 'margin-top': top + 'px'}\r\n                };\r\n\r\n                if (minuteMode) {\r\n                  hour.display = hour.value < 10 ? ('0' + hour.value) : hour.value;\r\n                } else {\r\n\r\n                  if (picker.params.shortTime) {\r\n                    hour.display = (h === 0) ? 12 : h;\r\n                  } else {\r\n                    hour.display = picker.isPM() ? h + 12 : h;\r\n                  }\r\n                }\r\n\r\n\r\n                points.push(hour);\r\n              }\r\n\r\n              scope.points = points;\r\n              scope.mode = attrs.mode;\r\n              setCurrentValue();\r\n              clock.css('height', clockWidth + 'px');\r\n\r\n              var clockCenter = element[0].querySelector('.dtp-clock-center');\r\n              var centerWidth = (clockCenter.offsetWidth / 2) || 7.5,\r\n                centerHeight = (clockCenter.offsetHeight / 2) || 7.5;\r\n              var _hL = r / 1.8;\r\n              var _mL = r / 1.5;\r\n\r\n              angular.element(element[0].querySelector('.dtp-hour-hand')).css({\r\n                left: r + (mL * 1.5) + 'px',\r\n                height: _hL + 'px',\r\n                marginTop: (r - _hL - pL) + 'px'\r\n              }).addClass(!minuteMode ? 'on' : '');\r\n\r\n              angular.element(element[0].querySelector('.dtp-minute-hand')).css\r\n              ({\r\n                left: r + (mL * 1.5) + 'px',\r\n                height: _mL + 'px',\r\n                marginTop: (r - _mL - pL) + 'px'\r\n              }).addClass(minuteMode ? 'on' : '');\r\n\r\n              angular.element(clockCenter).css({\r\n                left: (r + pL + mL - centerWidth) + 'px',\r\n                marginTop: (r - (mL / 2)) - centerHeight + 'px'\r\n              });\r\n              animateHands();\r\n            };\r\n\r\n            var animateHands = function () {\r\n              var _date = picker.currentNearest5Minute();\r\n              var h = _date.hour();\r\n              var m = _date.minute();\r\n\r\n              rotateElement(angular.element(element[0].querySelector('.dtp-hour-hand')), (360 / 12) * h);\r\n              var mdg = ((360 / 60) * (5 * Math.round(m / 5)));\r\n              rotateElement(angular.element(element[0].querySelector('.dtp-minute-hand')), mdg);\r\n            };\r\n\r\n            var rotateElement = function (el, deg) {\r\n              angular.element(el).css({\r\n                WebkitTransform: 'rotate(' + deg + 'deg)',\r\n                '-moz-transform': 'rotate(' + deg + 'deg)',\r\n                '-ms-transform': 'rotate(' + deg + 'deg)',\r\n                'transform': 'rotate(' + deg + 'deg)'\r\n              });\r\n            };\r\n\r\n\r\n            var setCurrentValue = function () {\r\n              var date = picker.currentNearest5Minute();\r\n              scope.currentValue = minuteMode ? date.minute() : (date.hour() % 12);\r\n            };\r\n\r\n            scope.$watch(function () {\r\n              var tmp = picker.currentNearest5Minute();\r\n              return tmp ? tmp.format('HH:mm') : '';\r\n            }, function () {\r\n              setCurrentValue();\r\n              animateHands();\r\n            });\r\n\r\n\r\n            var setDisplayPoints = function (isPM, points) {\r\n              for (var i = 0; i < points.length; i++) {\r\n                points[i].display = i;\r\n                if (isPM) {\r\n                  points[i].display += 12;\r\n                }\r\n              }\r\n              return points;\r\n            };\r\n\r\n            if (!picker.params.shortTime) {\r\n              scope.$watch('picker.meridien', function () {\r\n                if (!minuteMode) {\r\n                  if (scope.points) {\r\n                    var points = setDisplayPoints(picker.isPM(), angular.copy(scope.points));\r\n                    scope.points = points;\r\n                  }\r\n                }\r\n              });\r\n            }\r\n\r\n\r\n            scope.setTime = function (val) {\r\n              if (val === scope.currentValue) {\r\n                picker.ok();\r\n              }\r\n\r\n              if (!minuteMode) {\r\n                picker.currentDate.hour(picker.isPM() ? (val + 12) : val);\r\n              } else {\r\n                picker.currentDate.minute(val);\r\n              }\r\n              picker.currentDate.second(0);\r\n            };\r\n\r\n            scope.pointAvailable = function (point) {\r\n              return minuteMode ? picker.isMinuteAvailable(point.value) : picker.isHourAvailable(point.value);\r\n            };\r\n\r\n            var unWatcher = scope.$watch(function () {\r\n              return element[0].querySelectorAll('div').length;\r\n            }, function () {\r\n              exec();\r\n              unWatcher();\r\n            });\r\n          }\r\n        };\r\n      }]);\r\n\r\n})();\r\n"]}